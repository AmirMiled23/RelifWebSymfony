{% extends 'base.html.twig' %}

{% block title %}Resource index{% endblock %}

{% block body %}
    <style>
        .resource-table thead th {
            background: linear-gradient(90deg, #e3f2fd 0%, #b2ebf2 100%);
            color: #0277bd;
        }
        .resource-table tbody tr:nth-child(odd) {
            background: #f8f9fa;
        }
        .resource-table tbody tr:nth-child(even) {
            background: #e0f7fa;
        }
        .resource-table td.type {
            background: #b3e5fc;
            color: #01579b;
            font-weight: 600;
        }
        .resource-table td.url {
            background: #e1f5fe;
            color: #0277bd;
        }
        .resource-table td.desc {
            background: #fffde7;
            color: #616161;
        }
    </style>
    <h1>Resource index</h1>

    <form method="post" action="{{ path('resource_upload') }}" enctype="multipart/form-data">
        <label for="pdf">Upload PDF:</label>
        <input type="file" id="pdf" name="pdf" accept="application/pdf">
        <button type="submit">Upload</button>
    </form>

    <table class="table resource-table">
        <thead>
            <tr>
                <th>Id</th>
                <th class="type">Type</th>
                <th class="url">Url</th>
                <th class="desc">Description</th>
                <th>PDF Path</th>
                <th>actions</th>
            </tr>
        </thead>
        <tbody>
        {% for resource in resources %}
            <tr>
                <td>{{ resource.id }}</td>
                <td class="type">{{ resource.type }}</td>
                <td class="url">{{ resource.url }}</td>
                <td class="desc">{{ resource.description }}</td>
                <td>{{ resource.pdfPath }}</td>
                <td>
                    <a href="{{ path('app_resource_show', {'id': resource.id}) }}" class="btn btn-info btn-sm"><i class="fas fa-eye"></i> Show</a>
                    <a href="{{ path('app_resource_edit', {'id': resource.id}) }}" class="btn btn-warning btn-sm"><i class="fas fa-edit"></i> Edit</a>
                    <a href="{{ path('resource_export', {'id': resource.id}) }}" class="btn btn-secondary btn-sm"><i class="fas fa-file-pdf"></i> Export PDF</a>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="6">no records found</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <a href="{{ path('app_resource_new') }}" class="btn btn-success btn-lg mt-3"><i class="fas fa-plus"></i> Create new</a>
{% endblock %}
